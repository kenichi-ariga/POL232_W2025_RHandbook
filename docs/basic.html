<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>2&nbsp; Basic Use of RStudio – POL232 R Handbook (W2025)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./des1.html" rel="next">
<link href="./setup.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./basic.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic Use of RStudio</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">POL232 R Handbook (W2025)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./setup.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Setting Up R &amp; RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./basic.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic Use of RStudio</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./des1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Descriptive Statistics (1)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./des2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Descriptive Statistics (2)</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#very-basics" id="toc-very-basics" class="nav-link active" data-scroll-target="#very-basics"><span class="header-section-number">2.1</span> Very Basics</a>
  <ul class="collapse">
  <li><a href="#open-rstudio-desktop" id="toc-open-rstudio-desktop" class="nav-link" data-scroll-target="#open-rstudio-desktop"><span class="header-section-number">2.1.1</span> Open RStudio Desktop</a></li>
  <li><a href="#datasets-used-in-pol232" id="toc-datasets-used-in-pol232" class="nav-link" data-scroll-target="#datasets-used-in-pol232"><span class="header-section-number">2.1.2</span> Datasets Used in POL232</a></li>
  <li><a href="#sec-load-dataset" id="toc-sec-load-dataset" class="nav-link" data-scroll-target="#sec-load-dataset"><span class="header-section-number">2.1.3</span> Load Datasets to RStudio: <code>load()</code></a></li>
  <li><a href="#browse-data-frame-view" id="toc-browse-data-frame-view" class="nav-link" data-scroll-target="#browse-data-frame-view"><span class="header-section-number">2.1.4</span> Browse Data Frame: <code>View()</code></a></li>
  <li><a href="#getting-help-for-functions-help-or" id="toc-getting-help-for-functions-help-or" class="nav-link" data-scroll-target="#getting-help-for-functions-help-or"><span class="header-section-number">2.1.5</span> Getting Help for Functions: <code>help()</code> or <code>?</code></a></li>
  </ul></li>
  <li><a href="#sec-rscript" id="toc-sec-rscript" class="nav-link" data-scroll-target="#sec-rscript"><span class="header-section-number">2.2</span> R Script</a>
  <ul class="collapse">
  <li><a href="#sec-execute-rscript" id="toc-sec-execute-rscript" class="nav-link" data-scroll-target="#sec-execute-rscript"><span class="header-section-number">2.2.1</span> Execute Functions from an R Script</a></li>
  <li><a href="#sec-r-comments" id="toc-sec-r-comments" class="nav-link" data-scroll-target="#sec-r-comments"><span class="header-section-number">2.2.2</span> Write Comments After <code>#</code></a></li>
  <li><a href="#always-write-an-r-script" id="toc-always-write-an-r-script" class="nav-link" data-scroll-target="#always-write-an-r-script"><span class="header-section-number">2.2.3</span> Always Write an R Script</a></li>
  </ul></li>
  <li><a href="#sec-write-rscript" id="toc-sec-write-rscript" class="nav-link" data-scroll-target="#sec-write-rscript"><span class="header-section-number">2.3</span> Practic Writing an R Script</a>
  <ul class="collapse">
  <li><a href="#sec-new-rscript" id="toc-sec-new-rscript" class="nav-link" data-scroll-target="#sec-new-rscript"><span class="header-section-number">2.3.1</span> How to Start a New R Script</a></li>
  <li><a href="#very-basic-math" id="toc-very-basic-math" class="nav-link" data-scroll-target="#very-basic-math"><span class="header-section-number">2.3.2</span> Very Basic Math</a></li>
  <li><a href="#sec-assignment-operator" id="toc-sec-assignment-operator" class="nav-link" data-scroll-target="#sec-assignment-operator"><span class="header-section-number">2.3.3</span> Create a Variable Using the Assignment Operator (<code>&lt;-</code>)</a></li>
  <li><a href="#see-whats-in-your-workspace-working-memory-ls-or-objects" id="toc-see-whats-in-your-workspace-working-memory-ls-or-objects" class="nav-link" data-scroll-target="#see-whats-in-your-workspace-working-memory-ls-or-objects"><span class="header-section-number">2.3.4</span> See What’s in Your Workspace (= Working Memory): <code>ls()</code> or <code>objects()</code></a></li>
  <li><a href="#remove-a-variable-from-your-workspace-remove-or-rm" id="toc-remove-a-variable-from-your-workspace-remove-or-rm" class="nav-link" data-scroll-target="#remove-a-variable-from-your-workspace-remove-or-rm"><span class="header-section-number">2.3.5</span> Remove a Variable from Your Workspace: <code>remove()</code> or <code>rm()</code></a></li>
  <li><a href="#remove-everything-removelistls-or-rmlistls" id="toc-remove-everything-removelistls-or-rmlistls" class="nav-link" data-scroll-target="#remove-everything-removelistls-or-rmlistls"><span class="header-section-number">2.3.6</span> Remove Everything: <code>remove(list=ls())</code> or <code>rm(list=ls())</code></a></li>
  </ul></li>
  <li><a href="#when-you-quit-r-quit-or-q-dont-save-workspace-images" id="toc-when-you-quit-r-quit-or-q-dont-save-workspace-images" class="nav-link" data-scroll-target="#when-you-quit-r-quit-or-q-dont-save-workspace-images"><span class="header-section-number">2.4</span> When You Quit R: <code>quit()</code> or <code>q()</code> — Don’t Save Workspace Images</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Basic Use of RStudio</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="very-basics" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="very-basics"><span class="header-section-number">2.1</span> Very Basics</h2>
<section id="open-rstudio-desktop" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="open-rstudio-desktop"><span class="header-section-number">2.1.1</span> Open RStudio Desktop</h3>
<p>You may open R and use it directly through its own GUI, but many people find using R through RStudio more intuitive and easier than using R directly. When you use RStudio, you don’t need to open R. <span class="red-text">Just open RStudio only</span>, as it also quietly starts R behind its GUI. Let’s open RStudio. Then, you will see the following GUI.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig1.jpg" class="img-fluid figure-img" style="width:150.0%"></p>
</figure>
</div>
</div>
</div>
<p>In R, we have our work done by executing a command. We enter a command after the <code>&gt;</code> prompt in <strong>the R Console</strong>, and then, the command will be executed by R.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig1b.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>In RStudio, we can also choose a menu from its GUI, and RStudio translates our input into a command and execute it in <strong>the R Console</strong>. Let’s see an example by reading the datasets we will use in this class.</p>
</section>
<section id="datasets-used-in-pol232" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="datasets-used-in-pol232"><span class="header-section-number">2.1.2</span> Datasets Used in POL232</h3>
<p>I prepared the datasets you will use in this class in the <code>RData</code> format, which is available on <strong>the class Quercus site</strong>. Go to <strong>the class Quercus site</strong> and download the following file to your computer (remember where you downloaded it).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>    POL232.RData</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Let’s open <code>POL232.RData</code> in RStudio.</p>
<!-- ## If you use the JupyterHub,... -->
<!-- If you use RStudio Desktop installed on your computer, you may skip this section. -->
<!-- If you use RStudio online through [the JupyterHub](https://jupyter.utoronto.ca), you first need to upload `POL232.RData` to [the JupyterHub](https://jupyter.utoronto.ca). -->
</section>
<section id="sec-load-dataset" class="level3" data-number="2.1.3">
<h3 data-number="2.1.3" class="anchored" data-anchor-id="sec-load-dataset"><span class="header-section-number">2.1.3</span> Load Datasets to RStudio: <code>load()</code></h3>
<p>We use a menu from GUI of RStudio to load <code>POL232.RData</code> to RStudio. First, choose an open folder icon on the <code>Environment</code> tab on the upper right pane of RStudio.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig2.jpg" class="img-fluid figure-img" style="width:150.0%"></p>
</figure>
</div>
</div>
</div>
<p>Then, locate <code>POL232.RData</code> on your computer and choose it to open. In the following figure, I have located <code>POL232.RData</code> in the <code>TEMP</code> folder on my <code>Desktop</code>. Note, however, that the location where you have downloaded <code>POL232.RData</code> is different from mine. <!-- (or your JupyterHub account)  --></p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig3.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Then, the content of <code>POL232.RData</code> appears in the upper right pane of RStudio. As you can see, <code>POL232.RData</code> includes five datasets named <code>anes2020</code>, <code>ces2019</code>, <code>ipe2020</code>, <code>ipe2015</code>, and <code>usstates2010</code>. The datasets are stored in the format called <code>data frame</code> in R. So I will call these datasets <code>data frames</code> onward. To learn more about these data frames, see the codebooks available on the class Quercus site.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig4.jpg" class="img-fluid figure-img" style="width:150.0%"></p>
</figure>
</div>
</div>
</div>
<p>As you can see on the left pane of RStudio (see the red arrow), when we chose <code>POL232.RData</code> to open, RStudio translated this action into an R command and executed in <strong>the R Console</strong>. The commands used in R consist of <code>R functions</code>. An R function mostly takes the form of <code>function.name(...)</code>, and we input <strong>arguments</strong> in the <code>...</code> within the parentheses.</p>
<p>In the above example, to open <code>POL232.RData</code>, RStudio executed the <code>load()</code> function which takes the name and location (a file path) of the file as its argument (recall that <strong>an argument</strong> refers to what we specify in the parentheses of R functions). As you can see in the above figure, RStudio used the following code to open <code>POL232.RData</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">load</span>(<span class="st">"~/Desktop/TEMP/POL232.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="browse-data-frame-view" class="level3" data-number="2.1.4">
<h3 data-number="2.1.4" class="anchored" data-anchor-id="browse-data-frame-view"><span class="header-section-number">2.1.4</span> Browse Data Frame: <code>View()</code></h3>
<p>Let’s browse a data frame by entering a command in <strong>the R console</strong> directly. You may use the <code>View()</code> function for this purpose. Include the name of the data frame you want to browse as argument; i.e., include it inside <code>()</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">View</span>(ces2019)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, the data frame specified will be open at the upper left pane as shown below.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig5.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>An alternative to typing in <code>View(ces2019)</code> in <strong>the R console</strong> is to click <code>ces2019</code> in the <strong>Environment</strong> tab at the upper right pane. <img src="figures/RHB_Ch2_Fig5b.png" class="img-fluid" style="width:100.0%"> Then, RStudio will execute <code>View(ces2019)</code> for you to open the data frame in the upper left pane.</p>
<p>You may browse the data frame in this way. As you can see, the data frame is structured such that each row corresponds to each observation (in this case, each respondent of the survey) and each column corresponds to each variable. See <code>ces2019_codebook.pdf</code> for the description of the variables included in <code>ces2019</code>.</p>
<p>I’d suggest you browse other data frames such as <code>anes2020</code> and <code>ipe2010</code>. Try both typing in the <code>View()</code> function directly in <strong>the R console</strong> and clicking the name of a data frame on the <strong>Environment</strong> tab on the upper right pane.</p>
</section>
<section id="getting-help-for-functions-help-or" class="level3" data-number="2.1.5">
<h3 data-number="2.1.5" class="anchored" data-anchor-id="getting-help-for-functions-help-or"><span class="header-section-number">2.1.5</span> Getting Help for Functions: <code>help()</code> or <code>?</code></h3>
<p>If you need help for a function, you may use the <code>help()</code> function with the name of your function of interest in the parentheses or <code>?</code> operator followed by the name of the function. Try <code>help(View)</code> and <code>? View</code>. Both of them will open the help window for <code>View()</code> on the lower right pane of RStudio.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">help</span>(View)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  ? View</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig6.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>Whenever you have a question about the usage of a specific function, you may use the <code>help()</code> function or the <code>?</code> operator. If the explanation in the help menu is unclear to you, you may post your question on the Discussions Board of the class Quercus site.</p>
<!-- If you type in a function without `()`, you will see the contents of the function --- a program written in the R programming language that defines the function. Try `View`. We usually don’t use this option. Don't worry you don't understand the below. You will not be expected to understand the code like this.  -->
<!-- ```{r} -->
<!--   View -->
<!-- ``` -->
</section>
</section>
<section id="sec-rscript" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="sec-rscript"><span class="header-section-number">2.2</span> R Script</h2>
<p>When you conduct an analysis in R, you should write a series of functions in <span class="red-text">an R script file</span> and save it.</p>
<p>Let’s look at a simple example. Go to <strong>the class Quercus site</strong> and <span class="red-text">download the following file</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>    POL232_R_Lab1_Example1.R</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><code>POL232_R_Lab1_Example1.R</code> is an R script. The file extension <code>.R</code> is used for R scripts. <span class="red-text">Open this R script file in RStudio by choosing “File” <span class="math inline">\(\rightarrow\)</span> “Open File…” from the menu bar</span> or <span class="red-text">clicking the open folder icon</span> (<img src="figures/RHB_Ch2_Icon_OpenFolder.png" class="img-fluid" style="width:4.0%">) <span class="red-text">at the upper left corner</span>. (Make sure you do NOT click the open folder icon (<img src="figures/RHB_Ch2_Icon_OpenFolder.png" class="img-fluid" style="width:4.0%">) at the <strong>Environment</strong> tab on the upper right pane, because you cannot open an R script from there. Note that if you hover your cursor over the open folder icon at the upper left corner, the following message, “Open an existing file,” should appear as shown below. If you hover your cursor over the icon at the <strong>Environment</strong> tab on the upper right, the description to appear is “Load Workspace.”)</p>
<p><img src="figures/RHB_Ch2_Fig7.png" class="img-fluid"></p>
<p>Then, this R script appears in the top left window of RStudio.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig8.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p><code>POL232_R_Lab1_Example1.R</code> contains functions to draw a scatterplot using the <code>usstates2010</code> data frame. <span class="red-text">Don’t worry about these functions</span> for now. You will learn how to draw a similar scatterplot later in the semester.</p>
<section id="sec-execute-rscript" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="sec-execute-rscript"><span class="header-section-number">2.2.1</span> Execute Functions from an R Script</h3>
<p>If you write a series of functions in an R script like this one, you can easily repeat your analysis. From an R script file, you can execute the functions.</p>
<p>In <code>POL232_R_Lab1_Example1.R</code>, go to a line or highlight a line (or a set of lines), and then press <code>Ctrl + Enter</code> in Windows or <code>Command + Return</code> in Mac. Then, the functions chosen will be implemented in the R Console. Alternatively, you may click the “Run” icon (<img src="figures/RHB_Ch2_Icon_Run.png" class="img-fluid" style="width:4.5%">).</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="figures/RHB_Ch2_Fig9.jpg" class="img-fluid figure-img" style="width:100.0%"></p>
</figure>
</div>
</div>
</div>
<p>If you execute all the functions in <code>POL232_R_Lab1_Example1.R</code>, RStudio will draw the following scatterplot on the lower right pane.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="basic_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sec-r-comments" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="sec-r-comments"><span class="header-section-number">2.2.2</span> Write Comments After <code>#</code></h3>
<p><code>POL232_R_Lab1_Example1.R</code> produced a scatterplot with a linear regression line for the relationship between the proportion of two-party vote share for a democratic gubernatorial candidate and the percent of Democratic identifiers, individuals who identify themselves as Democrats, across US states.</p>
<p>Below is a copy of this R script. As I suggested above, don’t worry about what these functions in the R script are doing. I am showing the content of the R script below only to explain how you can write comments in your R script file.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Estimate a simple linear regression model for the relationship</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co"># between the proportion of two-party vote share for a democratic gubernatorial</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co"># candidate (ranney3_gub_prop) and the percent of Democratic identifiers</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># (democrat), individuals who identify themselves as Democrats, across</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co"># US states, and assign its result to the object named "us."</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>us <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="at">formula =</span> ranney3_gub_prop<span class="sc">*</span><span class="dv">100</span> <span class="sc">~</span> democrat, <span class="at">data=</span>usstates2010)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw a scatterplot using presidential election years.</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(usstates2010<span class="sc">$</span>democrat, usstates2010<span class="sc">$</span>ranney3_gub_prop<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>     <span class="at">type=</span><span class="st">"n"</span>,</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>), <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">75</span>),</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>     <span class="at">main=</span><span class="st">"US Gubernatorial Elections"</span>,</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">"Vote Share (%) of Dem Candidate"</span>,</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">"Democratic Identifiers (%)"</span>,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>     <span class="at">cex.main=</span><span class="fl">1.0</span>, <span class="at">cex.lab=</span><span class="fl">1.0</span>, <span class="at">cex.axis=</span><span class="fl">1.0</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x=</span>usstates2010<span class="sc">$</span>democrat, <span class="at">y=</span>usstates2010<span class="sc">$</span>ranney3_gub_prop<span class="sc">*</span><span class="dv">100</span>,</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    usstates2010<span class="sc">$</span>st, <span class="at">col=</span><span class="st">"blue"</span>, <span class="at">cex=</span><span class="fl">0.75</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a linear regression line.</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">a=</span>us<span class="sc">$</span>coefficients[<span class="dv">1</span>],<span class="at">b=</span>us<span class="sc">$</span>coefficients[<span class="dv">2</span>],</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">col=</span><span class="st">"red"</span>, <span class="at">lwd=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the above R script, you may notice that some descriptions are given after <code>#</code>. In an R script file, everything after <code>#</code> will not be executed by R. When R implements these functions, it ignores everything after <code>#</code>. Therefore, we can write comments after <code>#</code>.</p>
<p>I suggest you <span class="red-text">sufficiently annotate your R script</span> using <code>#</code> so that you can understand what you did when you come back to work on your R project after a while.</p>
</section>
<section id="always-write-an-r-script" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="always-write-an-r-script"><span class="header-section-number">2.2.3</span> Always Write an R Script</h3>
<p>I suggest you <span class="red-text">always create an R script file, write functions and comments in this R script, and save this script when you conduct analysis in R</span>, because this may be the most transparent and effective way to save and reproduce your analysis.</p>
<p>Therefore, in every R lab session, I will ask you to write an R script file and submit it to Quercus by the end of the lab session to earn a participation mark, so that you can develop the habit of writing R scripts.</p>
</section>
</section>
<section id="sec-write-rscript" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="sec-write-rscript"><span class="header-section-number">2.3</span> Practic Writing an R Script</h2>
<!-- Open RStudio once again.  -->
<p>Let’s write a very simple R script to try some very basic (mathematical) operations in R.</p>
<section id="sec-new-rscript" class="level3" data-number="2.3.1">
<h3 data-number="2.3.1" class="anchored" data-anchor-id="sec-new-rscript"><span class="header-section-number">2.3.1</span> How to Start a New R Script</h3>
<p>You may start a new file by choosing “File” <span class="math inline">\(\rightarrow\)</span> “New File” <span class="math inline">\(\rightarrow\)</span> “R Script” from the menu bar (left in the image below) or simply clicking the “New File” icon (<img src="figures/RHB_Ch2_Icon_New.png" class="img-fluid" style="width:4.0%">) and choose “R Script” (right in the image below).</p>
<p><img src="figures/RHB_Ch2_Fig11.png" class="img-fluid" style="width:100.0%"></p>
<p>Once you create a new R script, you should of course save it. You can save it by choosing “File” from the pull down menu and then “Save As” (left in the image below) or clicking the save file icon (right in the image below).</p>
<p><img src="figures/RHB_Ch2_Fig11b.png" class="img-fluid" style="width:100.0%"></p>
<p>You should choose an informative name for your R script. For the current purpose, name your R script “<code>POL232_Lab1_YourLastName.R</code>.”</p>
</section>
<section id="very-basic-math" class="level3" data-number="2.3.2">
<h3 data-number="2.3.2" class="anchored" data-anchor-id="very-basic-math"><span class="header-section-number">2.3.2</span> Very Basic Math</h3>
<p>First, write the following mathematical operations in your R script and execute them from within the R script. See <a href="#sec-execute-rscript" class="quarto-xref"><span>Section 2.2.1</span></a> if you forget how to run functions from within an R script.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span> <span class="sc">+</span> <span class="dv">5</span>     <span class="co"># Addition</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span> <span class="sc">-</span> <span class="dv">3</span>     <span class="co"># Subtraction</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="dv">4</span> <span class="sc">*</span> <span class="dv">7</span>     <span class="co"># Multiplication</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2735</span> <span class="sc">/</span> <span class="dv">45</span> <span class="co"># Division</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  <span class="dv">2</span><span class="sc">^</span><span class="dv">4</span>       <span class="co"># Exponents</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(<span class="dv">16</span>)  <span class="co"># Square root</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">abs</span>(<span class="sc">-</span><span class="dv">5</span>)   <span class="co"># Absolute value</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span><span class="sc">:</span><span class="dv">100</span>     <span class="co"># Sequence of integers from 1 to 100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, these mathematical operations will be carried out in <strong>the R Console</strong>. Each of them returns the output of the operation — for example, <code>6</code> for <code>1 + 5</code>, and <code>-1</code> for <code>2 - 3</code>.</p>
<p>Recall that R ignores everything after <code>#</code>, so you can annotate your R script after <code>#</code>.</p>
<p>Next, write <code>5:100</code> as follows in your R script and execute it. You will get the output that follows — a sequence of numbers from <code>5</code> to <code>100</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  <span class="dv">5</span><span class="sc">:</span><span class="dv">100</span>    <span class="co"># Sequence of integers from 5 to 100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23
[20]  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41  42
[39]  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61
[58]  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80
[77]  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99
[96] 100</code></pre>
</div>
</div>
<p><span class="red-text">In the output, numbers in square brackets at the beginning of each line represent a position of the first entry of each line</span>. As you see in the above output, <code>5</code> is the first entry of <code>5:100</code>, and <code>24</code> is the 20th entry of <code>5:100</code>, <code>43</code> is the 39th, and so forth.</p>
</section>
<section id="sec-assignment-operator" class="level3" data-number="2.3.3">
<h3 data-number="2.3.3" class="anchored" data-anchor-id="sec-assignment-operator"><span class="header-section-number">2.3.3</span> Create a Variable Using the Assignment Operator (<code>&lt;-</code>)</h3>
<p>We can create <strong>a variable</strong> and assign a number or multiple numbers to <strong>this variable</strong> using the assignment operator, <code>&lt;-</code>. First, let’s assign a single number to <strong>a variable</strong>.</p>
<p>For example, the following operation will assign the result of <code>1 + 5</code>, which is <code>6</code>, to <strong>a variable</strong> named <code>y</code>. Write this operation in your R script and then execute it (once again, see <a href="#sec-execute-rscript" class="quarto-xref"><span>Section 2.2.1</span></a> if you forget how to run a function from within an R script).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>  y <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="dv">5</span>  <span class="co"># The assignment operator, &lt;-, will assign the values on the right-hand-side </span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>              <span class="co"># to a variable named y.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Typing in the <strong>variable</strong> name in <strong>the R Console</strong> will print its content. Try this.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6</code></pre>
</div>
</div>
<p>It returns <code>6</code>.</p>
<p>Now write the following operation in your R script and execute it to create a different <strong>variable</strong> <code>x</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Check its content by typing the <strong>variable</strong> name, <code>x</code>, in <strong>the R Console</strong>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>  x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 7</code></pre>
</div>
</div>
<p>It returns <code>7</code>. You can overwrite <strong>a variable</strong> by assigning a different number to <strong>the variable</strong>. Write the following operation in your R script and execute it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>  x <span class="ot">&lt;-</span> <span class="dv">10</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now your <code>x</code> should be changed to <code>10</code>. Type in <code>x</code> in <strong>the R Console</strong> to confirm.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<p>You can apply mathematical operations on <strong>variables</strong>. For example, write the following operations — <code>sqrt()</code> to take a square root — in your R script and execute them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>  y <span class="sc">+</span> x        <span class="co"># Because y = 6 &amp; x = 10, this is 16.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sqrt</span>(y <span class="sc">+</span> x)  <span class="co"># This will take a square root of 16, which is 4.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 4</code></pre>
</div>
</div>
<p>You may assign the result of a mathematical operation on <strong>variables</strong> to another <strong>variable</strong>. Write the following operations in your R script and execute them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>  z <span class="ot">&lt;-</span> y <span class="sc">+</span> x  <span class="co"># z will be the result of y + x. Since y = 6 and x = 10, z = 16.</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  z           <span class="co"># Executing this from your R script is equivalent to typing in `z` into the R Console.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 16</code></pre>
</div>
</div>
</section>
<section id="see-whats-in-your-workspace-working-memory-ls-or-objects" class="level3" data-number="2.3.4">
<h3 data-number="2.3.4" class="anchored" data-anchor-id="see-whats-in-your-workspace-working-memory-ls-or-objects"><span class="header-section-number">2.3.4</span> See What’s in Your Workspace (= Working Memory): <code>ls()</code> or <code>objects()</code></h3>
<p>What you have created so far (called <strong>“objects”</strong>) in the current R session have been stored in the R’s working memory, called <strong>workspace</strong>. You can see what is available in your <strong>workspace</strong> by executing <code>ls()</code> or <code>objects()</code> without arguments (= nothing in the parentheses). <code>objects()</code> may be more intuitive because anything you construct in R is called <strong>an object</strong>.</p>
<p>Writ the following functions in your R script and execute them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">objects</span>()  <span class="co"># This function will list everything in your workspace.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "anes2020"     "ces2019"      "ipe2010"      "ipe2015"      "us"          
[6] "usstates2010" "x"            "y"            "z"           </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ls</span>()       <span class="co"># This function does the same thing as the objects() function.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "anes2020"     "ces2019"      "ipe2010"      "ipe2015"      "us"          
[6] "usstates2010" "x"            "y"            "z"           </code></pre>
</div>
</div>
<p>You can also see what’s stored in your <strong>workspace</strong> at the <strong>Environment</strong> tab at the upper right pane.</p>
<p><img src="figures/RHB_Ch2_Fig12.png" class="img-fluid" style="width:100.0%"></p>
<p>Note that everything you created and stored in your <strong>workspace</strong> will be gone, once you quit R. This is fine, as you can always recreate the objects you created in the current R session easily by running the functions recorded in your R script.</p>
<!-- ## Create a Vector: `c()`, `length()` -->
<!-- Now we will construct a *vector*, which is a list of numbers ordered in line. \textcolor{red}{A vector is one of the most basic R objects}. -->
<!-- `c()` is a function to combine its arguments to create a vector. For example, … -->
<!-- ```{r} -->
<!--   a <- c(10,15,18,25) -->
<!--   b <- c(5,4,3,2) -->
<!-- ``` -->
<!-- Type in `a` and `b`, respectively, to see what each of them contains. -->
<!-- ```{r} -->
<!--   a -->
<!--   b -->
<!-- ``` -->
<!-- We can implement arithmetic operations on vectors. For example, we can add each element of vectors `a` and `b` to create a new vector `d`. -->
<!-- ```{r} -->
<!--   d <- a + b -->
<!-- ``` -->
<!-- Check its contents by typing `d`. -->
<!-- ```{r} -->
<!--   d -->
<!-- ``` -->
<!-- We can subtract each element of vectors. -->
<!-- ```{r} -->
<!--   h <- a - b -->
<!-- ``` -->
<!-- Check the contents of `h`. -->
<!-- ```{r} -->
<!--   h -->
<!-- ``` -->
<!-- Multiply each element by a corresponding element. Check the contents of `f`. -->
<!-- ```{r} -->
<!--   f <- a * b -->
<!--   f -->
<!-- ``` -->
<!-- You can get the length of vectors by the `length()` function. -->
<!-- ```{r} -->
<!--   length(b) -->
<!-- ``` -->
</section>
<section id="remove-a-variable-from-your-workspace-remove-or-rm" class="level3" data-number="2.3.5">
<h3 data-number="2.3.5" class="anchored" data-anchor-id="remove-a-variable-from-your-workspace-remove-or-rm"><span class="header-section-number">2.3.5</span> Remove a Variable from Your Workspace: <code>remove()</code> or <code>rm()</code></h3>
<p>If you want to remove or erase <strong>a variable</strong> from your <strong>workspace</strong>, use <code>remove()</code> or its abbreviation <code>rm()</code>. For example, <code>remove(x)</code> or <code>rm(x)</code> will erase <code>x</code> from your <strong>workspace</strong>. Write the following function in your R script and execute it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove</span>(x)   <span class="co"># This function will remove the variable `x` from your workspace.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Type in <code>x</code> in the R Console to see that this <strong>variable</strong> is not available anymore. The error message will suggest that the <strong>variable</strong> x cannot be found.</p>
</section>
<section id="remove-everything-removelistls-or-rmlistls" class="level3" data-number="2.3.6">
<h3 data-number="2.3.6" class="anchored" data-anchor-id="remove-everything-removelistls-or-rmlistls"><span class="header-section-number">2.3.6</span> Remove Everything: <code>remove(list=ls())</code> or <code>rm(list=ls())</code></h3>
<p>If you want to remove everything from your workspace, you may use the following function. Write this function in your R script and execute it.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">remove</span>(<span class="at">list=</span><span class="fu">ls</span>())  <span class="co"># This will erase everything from your workspace.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Run <code>objects()</code> or <code>ls()</code> to see that everything is gone. <code>character{0}</code> means there is nothing in your workspace.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ls</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>character(0)</code></pre>
</div>
</div>
<p>Make sure you save your R script. This R script may be used as your reference in your later work.</p>
</section>
</section>
<section id="when-you-quit-r-quit-or-q-dont-save-workspace-images" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="when-you-quit-r-quit-or-q-dont-save-workspace-images"><span class="header-section-number">2.4</span> When You Quit R: <code>quit()</code> or <code>q()</code> — Don’t Save Workspace Images</h2>
<p>You may quit R by typing <code>quit()</code> or <code>q()</code> in <strong>the R Console</strong> or choose <strong>“File” <span class="math inline">\(\rightarrow\)</span> “Quit Session…”</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>  <span class="fu">quit</span>()</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">q</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>When you quit, you <span class="red-text">may be asked the following question</span>.</p>
<p><img src="figures/RHB_Ch2_Fig10.png" class="img-fluid" style="width:35.0%"></p>
<p><span class="red-text">If you are NOT asked this question, then that is fine.</span> You can skip the following. Since this question is no longer asked in the recent versions of <strong>RStudio Desktop</strong>, you may not see this question when you quit your <strong>R session</strong>.</p>
<p>However, I want to give the following explanations in case you encounter this question when you quit your <strong>R session</strong>, because this is a default behaviour of <strong>R</strong>, which is run quietly behind <strong>RStudio</strong>. There may be an occasion in which you will see this question.</p>
<p>By clicking <strong>“Save,”</strong> you can save all your <strong>R session</strong> in <strong>a workspace image</strong> (<code>.RData</code> file) and can open it the next time you start <strong>R</strong>.</p>
<p><span class="red-text">However, I do <strong>NOT recommend</strong> using this option.</span> It is much better to record all your work in <strong>an R script</strong> and replicate all your work by executing <strong>the R script</strong>.</p>
<p>Using <strong>R scripts</strong> allows you to correct your mistakes easily, and all the steps of your work will be transparent. You may also allow others to replicate your work by running your R script.</p>
<p><span class="red-text">Always choose “Don’t Save” when you quit R</span> and <span class="red-text">write an R script</span> instead.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./setup.html" class="pagination-link" aria-label="Setting Up R &amp; RStudio">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Setting Up R &amp; RStudio</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./des1.html" class="pagination-link" aria-label="Descriptive Statistics (1)">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Descriptive Statistics (1)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>